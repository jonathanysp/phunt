<!DOCTYPE html>
<html ng-app>
<head>
	<title>Create your own adventure!</title>
	<script src="/js/jquery.js"></script>
	<script src="/js/angular.js"></script>
</head>
<body>
	<h1>Create your own adventure!</h1>
	<input id="input" placeholder="Propose a picture!"></input>
	<button id="deleteall">Clear All</button>
	<ul id="ul">
		<li ng-repeat="item in items" ng-class="'done-'+item.done" ng-animate="'repeat'">
			<button>
	</ul>
	<form id="hidden_form" method="POST" action="/new">
		<input type="submit" value="Next">
	</form>
	<script>
		var counter = 0;
		$('#input').keyup(function(event){
			if($('.li').length < 12){
				if(event.keyCode == 13){
					if($('#input').val() != ""){
					typed = $('#input').val()
					var newli = $(document.createElement('li'));
					var newinput = $(document.createElement('input'));
						newinput.attr('name', 'task');
						newinput.attr('value', typed)
						newinput.attr('class', 'a'+counter+' deletethis')
						$('#hidden_form').append(newinput)
						newli.attr('class', 'a'+counter);
						var newdiv = $(document.createElement('div'))
							var newdel = $(document.createElement('button'))
						newdel.attr('class', 'a'+counter)
						newdel.text('Delete')
						newdel.click(function(){
							var classy = newdel.attr('class')
							$('.'+classy).remove()
						});
						counter++
						newdiv.append(typed)
						newdiv.append(newdel)
					newli.addClass('li')
					newli.append(newdiv);
					$("#ul").append(newli);
					$('#input').val("")
					}
		    	}
			}
		})
		$('#deleteall').click(function(){
			$('.li').remove()
			$('.deletethis').remove()
		})
	</script>
</body>
</html>